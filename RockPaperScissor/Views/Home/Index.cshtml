@{
    ViewData["Title"] = "Home Page";
}

<br />
<br />

@*CSS Link*@

<link rel="stylesheet" href="~/css/StyleSheet.css">

@*Header*@
<header>
    <h1>Rock Paper Scissors</h1>
</header>


@*ScoreBoard: where the score of player and computer shows*@
<div class="score">
    <div id="user-label" class="badge">user</div>
    <div id="computer-label" class="badge">computer</div>
    <span id="user-score">0</span>:<span id="computer-score">0</span>
</div>

@* this is where the result shows*@
<div class="result">
    <p>Choose what you want</p>
</div>

@*Where the user can choose which to pick, Rock, Paper, or Scissors*@
<div class="choices">
    <div class="choice" id="r">
        <img src="~/img/Rock.png" alt="" />
    </div>

    <div class="choice" id="p">
        <img src="~/img/Paper.png" alt="" />
    </div>
    <div class="choice" id="s">
        <img src="~/img/Scissors.png" alt="" />
    </div>
</div>

@*Message telling you to choose*@
<p id="action-message">Make your move.</p>


@*JavaScript codes area*@
<script charset="utf-8">
    
    //Starting score for both player and computer
    let userScore = 0;
    let computerScore = 0;
    //reference to the desired HTML elements
    const userScore_span = document.getElementById("user-score");
    const computerScore_span = document.getElementById("computer-score");
    const scoreBoard_div = document.querySelector(".score");
    const result_p = document.querySelector(".result > p");
    const rock_div = document.getElementById("r");
    const paper_div = document.getElementById("p");
    const scissors_div = document.getElementById("s");

    //code for the Computer's choice
    function getComputerChoice() {
        const choices = ['r', 'p', 's'];
        const randomNumber = Math.floor(Math.random() * 3);
        return choices[randomNumber];
    }

    //code for converting letters to word (r to Rock, p to Paper, and s to Scissors)
    function convertToWord(letter) {
        if (letter === "r") return "Rock";
        if (letter === "p") return "Paper";
        return "Scissors";
    }

    //code for displaying if you win
    function win(userChoice, computerChoice) {
        userScore++;
        userScore_span.innerHTML = userScore;
        computerScore_span.innerHTML = computerScore;


        result_p.innerHTML = `${convertToWord(userChoice)} (YOU) beats ${convertToWord(computerChoice)} (COMPUTER), You Win! 🤩`;
        document.getElementById(userChoice).classList.add('green-glow');
        setTimeout(function () { document.getElementById(userChoice).classList.remove('green-glow') }, 500);
    }

    //code for displaying if you lose
    function lose(userChoice, computerChoice) {
        computerScore++;
        userScore_span.innerHTML = userScore;
        computerScore_span.innerHTML = computerScore;


        result_p.innerHTML = `${convertToWord(userChoice)} (YOU) loses to ${convertToWord(computerChoice)} (COMPUTER), You Lost 😔`;
        document.getElementById(userChoice).classList.add('red-glow');
        setTimeout(function () { document.getElementById(userChoice).classList.remove('red-glow') }, 500);
    }

    //code for displaying if it is a tie
    function draw(userChoice, computerChoice) {



        result_p.innerHTML = `${convertToWord(userChoice)} (YOU) is the same to ${convertToWord(computerChoice)} (COMPUTER), Tie! 😑`;
        document.getElementById(userChoice).classList.add('yellow-glow');
        setTimeout(function () { document.getElementById(userChoice).classList.remove('yellow-glow') }, 500);
    }

    //Logic for the rock, paper, scissors game where if the player wins, loses, or a tie score
    function game(userChoice) {
        const computerChoice = getComputerChoice();
        switch (userChoice + computerChoice) {
            case "rs":
            case "pr":
            case "sp":
                win(userChoice, computerChoice);
                break;
            case "rp":
            case "ps":
            case "sr":
                lose(userChoice, computerChoice);
                break;
            case "rr":
            case "pp":
            case "ss":
                draw(userChoice, computerChoice);
                break;
        }
    }

    //code for adding a click event to game choices Rock, Paper, Scissors
    function main() {
        rock_div.addEventListener('click', function () {
            game("r");
        })

        paper_div.addEventListener('click', function () {
            game("p");
        })

        scissors_div.addEventListener('click', function () {
            game("s");
        })
    }

    //code for calling the main function for the click event
    main();

</script>

